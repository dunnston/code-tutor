{
  "id": 5,
  "trackId": 1,
  "language": "python",
  "title": "The Function Forge",
  "subtitle": "Creating Reusable Spells",
  "difficulty": 3,
  "estimatedTime": "20-25 minutes",
  "xpReward": 300,
  "description": "# The Function Forge: Crafting Reusable Magic\n\nWelcome to the Function Forge, adventurer! Here you'll learn to create **functions** - reusable pieces of code.\n\nSo far, you've been writing code that runs once, from top to bottom. But what if you need to use the same code multiple times?\n\n**Without functions (repetitive):**\n```python\nprint(\"=====\")\nprint(\"ATTACK!\")\nprint(\"=====\")\n# ...later...\nprint(\"=====\")\nprint(\"ATTACK!\")\nprint(\"=====\")\n# ...again...\nprint(\"=====\")\nprint(\"ATTACK!\")\nprint(\"=====\")\n```\n\n**With functions (elegant):**\n```python\ndef display_attack():\n    print(\"=====\")\n    print(\"ATTACK!\")\n    print(\"=====\")\n\n# Use it anywhere!\ndisplay_attack()\ndisplay_attack()\ndisplay_attack()\n```\n\n## Defining a Function\n\nTo create a function, use the `def` keyword:\n\n```python\ndef greet():\n    print(\"Hello, adventurer!\")\n    print(\"Welcome to the quest!\")\n```\n\n**Anatomy:**\n- `def` - \"define a function\"\n- `greet` - the function's name (follow same rules as variables)\n- `()` - parentheses (more on this soon!)\n- `:` - colon\n- **Indented code** - what the function does\n\n## Calling a Function\n\nTo use (\"call\") a function, write its name with parentheses:\n\n```python\ngreet()  # Runs the function\n```\n\n## Functions with Parameters\n\nFunctions can accept **parameters** (inputs):\n\n```python\ndef greet_hero(name):\n    print(\"Hello,\", name)\n    print(\"Your quest awaits!\")\n\ngreet_hero(\"Aria\")   # Hello, Aria\ngreet_hero(\"Thorin\") # Hello, Thorin\n```\n\n**Parameters** are variables that receive values when you call the function.\n\n## Multiple Parameters\n\nFunctions can take multiple inputs:\n\n```python\ndef attack(target, damage):\n    print(\"Attacking\", target, \"for\", damage, \"damage!\")\n\nattack(\"goblin\", 15)  # Attacking goblin for 15 damage!\nattack(\"dragon\", 50)  # Attacking dragon for 50 damage!\n```\n\n## Functions with Return Values\n\nFunctions can calculate and **return** a value:\n\n```python\ndef calculate_damage(strength, weapon_bonus):\n    total = strength + weapon_bonus\n    return total\n\nmy_damage = calculate_damage(10, 5)\nprint(\"Your damage:\", my_damage)  # Your damage: 15\n```\n\n**The `return` keyword** sends a value back to whoever called the function.\n\n## When to Use Return vs Print\n\nThis is a common question! Here's the key difference:\n\n**Use `print()` when:** You want to SHOW something to the user.\n```python\ndef greet(name):\n    print(\"Hello,\", name)  # Just displays a message\n\ngreet(\"Aria\")  # Shows: Hello, Aria\n```\n\n**Use `return` when:** You want to USE the result in other calculations.\n```python\ndef add(a, b):\n    return a + b  # Gives back the result\n\ntotal = add(5, 3)  # total = 8\ndouble = total * 2  # Now we can use it! double = 16\nprint(\"Double:\", double)  # Shows: Double: 16\n```\n\n**What happens without return?**\n```python\ndef add_broken(a, b):\n    result = a + b\n    # No return! The result is lost!\n\ntotal = add_broken(5, 3)  # total is None (nothing)\nprint(total)  # Shows: None\n```\n\n**You can do both!**\n```python\ndef calculate_and_show(a, b):\n    total = a + b\n    print(\"Calculating:\", total)  # Shows the result\n    return total  # AND gives it back to use later\n\nresult = calculate_and_show(10, 5)\n# Shows: Calculating: 15\n# result = 15 (we can use this!)\n```\n\n**Quick Rule:** If you need the value for another calculation or to store it, use `return`. If you just want to display information, use `print`.\n\n## Your Quest\n\nYou're creating a battle system. Write three functions:\n\n### Function 1: heal_player()\n- Takes one parameter: `amount`\n- Prints: `\"Healed for [amount] health!\"`\n- Returns: the amount healed\n\n### Function 2: calculate_total_gold()\n- Takes two parameters: `coins` and `treasure_value`\n- Calculates the total: `coins + treasure_value`\n- Returns: the total\n\n### Function 3: display_stats()\n- Takes three parameters: `name`, `health`, `gold`\n- Prints:\n  ```\n  === Character Stats ===\n  Name: [name]\n  Health: [health]\n  Gold: [gold]\n  ```\n\n**Then test your functions:**\n```python\nhealing = heal_player(25)\ntotal_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Aria\", 100, total_gold)\n```",
  "starterCode": "# Function 1: heal_player\n# Takes 'amount' parameter, prints healing message, returns amount\ndef heal_player(amount):\n    # Your code here\n    pass\n\n# Function 2: calculate_total_gold\n# Takes 'coins' and 'treasure_value', returns their sum\ndef calculate_total_gold(coins, treasure_value):\n    # Your code here\n    pass\n\n# Function 3: display_stats\n# Takes 'name', 'health', 'gold' and displays character stats\ndef display_stats(name, health, gold):\n    # Your code here\n    pass\n\n# Test your functions below\nhealing = heal_player(25)\ntotal_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Aria\", 100, total_gold)\n",
  "solutionCode": "# Function 1: heal_player\ndef heal_player(amount):\n    print(\"Healed for\", amount, \"health!\")\n    return amount\n\n# Function 2: calculate_total_gold\ndef calculate_total_gold(coins, treasure_value):\n    total = coins + treasure_value\n    return total\n\n# Function 3: display_stats\ndef display_stats(name, health, gold):\n    print(\"=== Character Stats ===\")\n    print(\"Name:\", name)\n    print(\"Health:\", health)\n    print(\"Gold:\", gold)\n\n# Test your functions\nhealing = heal_player(25)\ntotal_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Aria\", 100, total_gold)",
  "hints": [
    "Use 'def function_name(parameters):' to define functions",
    "Parameters are just variable names - use them inside the function",
    "Don't forget to indent all code inside the function",
    "Use 'return value' to send a result back - this lets you save the result in a variable!",
    "For heal_player: print the message, then return the amount on the next line",
    "For display_stats, use print() three times for the three lines (no return needed!)",
    "Remember: return is for using values later, print is for showing messages"
  ],
  "validationTests": [
    {
      "type": "function_exists",
      "value": "heal_player",
      "description": "Should define heal_player function"
    },
    {
      "type": "function_exists",
      "value": "calculate_total_gold",
      "description": "Should define calculate_total_gold function"
    },
    {
      "type": "function_exists",
      "value": "display_stats",
      "description": "Should define display_stats function"
    },
    {
      "type": "output_contains",
      "value": "Healed for 25 health!",
      "description": "heal_player should print healing message"
    },
    {
      "type": "output_contains",
      "value": "=== Character Stats ===",
      "description": "display_stats should print stats header"
    },
    {
      "type": "output_contains",
      "value": "Name: Aria",
      "description": "Should display character name"
    },
    {
      "type": "output_contains",
      "value": "Gold: 150",
      "description": "Should calculate and display total gold (50 + 100 = 150)"
    },
    {
      "type": "function_returns",
      "function": "calculate_total_gold",
      "args": [50, 100],
      "expectedReturn": 150,
      "description": "calculate_total_gold should return sum of inputs"
    }
  ],
  "bonus": {
    "description": "Create a fourth function 'attack_enemy(enemy_name, damage)' that prints an attack message and returns true if damage > 20, false otherwise.",
    "xpReward": 100
  },
  "learningObjectives": [
    "Understand what functions are and why they're useful",
    "Define functions with def",
    "Use parameters to make functions flexible",
    "Return values from functions",
    "Call functions with different arguments",
    "Recognize when to break code into functions"
  ],
  "commonMistakes": [
    {
      "mistake": "Forgetting parentheses when calling",
      "explanation": "To call a function, you MUST use parentheses: greet() not greet"
    },
    {
      "mistake": "Not returning values",
      "explanation": "If a function calculates something, use 'return value' to send it back. Otherwise, the caller gets None."
    },
    {
      "mistake": "Wrong number of arguments",
      "explanation": "If a function has 2 parameters, you must pass 2 arguments when calling it."
    },
    {
      "mistake": "Using function before defining",
      "explanation": "Define functions at the top of your code, then call them below. Python reads top-to-bottom."
    }
  ],
  "previousLessonId": 4,
  "nextLessonId": 6,
  "tags": ["beginner", "functions", "def", "parameters", "return", "code-organization"]
}
