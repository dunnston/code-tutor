{
  "id": 105,
  "trackId": 2,
  "language": "gdscript",
  "title": "The Function Forge",
  "subtitle": "Creating Reusable Spells",
  "difficulty": 3,
  "estimatedTime": "20-25 minutes",
  "xpReward": 300,
  "description": "# The Function Forge: Crafting Reusable Magic\n\nWelcome to the Function Forge, game developer! Here you'll learn to create **functions** - reusable pieces of code that make your games more organized.\n\n## What is a Function?\n\nA function is a named block of code that you can run whenever you need it. In Godot, you'll use functions constantly!\n\n**Without functions (repetitive):**\n```gdscript\nprint(\"=====\")\nprint(\"ATTACK!\")\nprint(\"=====\")\n# ...later...\nprint(\"=====\")\nprint(\"ATTACK!\")\nprint(\"=====\")\n```\n\n**With functions (elegant):**\n```gdscript\nfunc display_attack():\n    print(\"=====\")\n    print(\"ATTACK!\")\n    print(\"=====\")\n\n# Use it anywhere!\ndisplay_attack()\ndisplay_attack()\n```\n\n## Defining a Function in GDScript\n\nTo create a function, use the `func` keyword:\n\n```gdscript\nfunc greet():\n    print(\"Hello, player!\")\n    print(\"Welcome to the game!\")\n```\n\n**Anatomy:**\n- `func` - \"define a function\"\n- `greet` - the function's name (follow variable naming rules)\n- `()` - parentheses for parameters (more on this soon!)\n- **No colon needed** (GDScript style)\n- **Indented code** - what the function does\n\n## Calling a Function\n\nTo use (\"call\") a function, write its name with parentheses:\n\n```gdscript\ngreet()  # Runs the function\n```\n\n## Functions with Parameters\n\nFunctions can accept **parameters** (inputs):\n\n```gdscript\nfunc greet_hero(name):\n    print(\"Hello, \", name)\n    print(\"Your quest awaits!\")\n\ngreet_hero(\"Knight\")   # Hello, Knight\ngreet_hero(\"Wizard\")   # Hello, Wizard\n```\n\n**Parameters** are variables that receive values when you call the function.\n\n## Multiple Parameters\n\nFunctions can take multiple inputs:\n\n```gdscript\nfunc attack(target, damage):\n    print(\"Attacking \", target, \" for \", damage, \" damage!\")\n\nattack(\"goblin\", 15)  # Attacking goblin for 15 damage!\nattack(\"dragon\", 50)  # Attacking dragon for 50 damage!\n```\n\n## Functions with Return Values\n\nFunctions can calculate and **return** a value:\n\n```gdscript\nfunc calculate_damage(strength, weapon_bonus):\n    var total = strength + weapon_bonus\n    return total\n\nvar my_damage = calculate_damage(10, 5)\nprint(\"Your damage: \", my_damage)  # Your damage: 15\n```\n\n**The `return` keyword** sends a value back to whoever called the function.\n\n## Your Quest\n\nYou're creating a battle system. Write three functions:\n\n### Function 1: heal_player()\n- Takes one parameter: `amount`\n- Prints: `\"Healed for [amount] health!\"`\n- Returns: the amount healed\n\n### Function 2: calculate_total_gold()\n- Takes two parameters: `coins` and `treasure_value`\n- Calculates the total: `coins + treasure_value`\n- Returns: the total\n\n### Function 3: display_stats()\n- Takes three parameters: `name`, `health`, `gold`\n- Prints:\n  ```\n  === Character Stats ===\n  Name: [name]\n  Health: [health]\n  Gold: [gold]\n  ```\n\n**Then test your functions:**\n```gdscript\nvar healing = heal_player(25)\nvar total_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Knight\", 100, total_gold)\n```",
  "starterCode": "# Function 1: heal_player\n# Takes 'amount' parameter, prints healing message, returns amount\nfunc heal_player(amount):\n    # Your code here\n    pass\n\n# Function 2: calculate_total_gold\n# Takes 'coins' and 'treasure_value', returns their sum\nfunc calculate_total_gold(coins, treasure_value):\n    # Your code here\n    pass\n\n# Function 3: display_stats\n# Takes 'name', 'health', 'gold' and displays character stats\nfunc display_stats(name, health, gold):\n    # Your code here\n    pass\n\n# Test your functions below\nvar healing = heal_player(25)\nvar total_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Knight\", 100, total_gold)\n",
  "solutionCode": "# Function 1: heal_player\nfunc heal_player(amount):\n    print(\"Healed for \", amount, \" health!\")\n    return amount\n\n# Function 2: calculate_total_gold\nfunc calculate_total_gold(coins, treasure_value):\n    var total = coins + treasure_value\n    return total\n\n# Function 3: display_stats\nfunc display_stats(name, health, gold):\n    print(\"=== Character Stats ===\")\n    print(\"Name: \", name)\n    print(\"Health: \", health)\n    print(\"Gold: \", gold)\n\n# Test your functions\nvar healing = heal_player(25)\nvar total_gold = calculate_total_gold(50, 100)\ndisplay_stats(\"Knight\", 100, total_gold)",
  "hints": [
    "Use 'func function_name(parameters)' to define functions",
    "Parameters are just variable names - use them inside the function",
    "Don't forget to indent all code inside the function",
    "Use 'return value' to send a result back",
    "For heal_player: print the message, then return the amount on the next line",
    "For display_stats, use print() three times for the three lines (no return needed!)"
  ],
  "validationTests": [
    {
      "type": "code_contains",
      "value": "func heal_player",
      "description": "Should define heal_player function"
    },
    {
      "type": "code_contains",
      "value": "func calculate_total_gold",
      "description": "Should define calculate_total_gold function"
    },
    {
      "type": "code_contains",
      "value": "func display_stats",
      "description": "Should define display_stats function"
    },
    {
      "type": "output_contains",
      "value": "Healed for 25 health!",
      "description": "heal_player should print healing message"
    },
    {
      "type": "output_contains",
      "value": "=== Character Stats ===",
      "description": "display_stats should print stats header"
    },
    {
      "type": "output_contains",
      "value": "Name: Knight",
      "description": "Should display character name"
    },
    {
      "type": "output_contains",
      "value": "Gold: 150",
      "description": "Should calculate and display total gold (50 + 100 = 150)"
    }
  ],
  "bonus": {
    "description": "Create a fourth function 'attack_enemy(enemy_name, damage)' that prints an attack message and returns true if damage > 20, false otherwise.",
    "xpReward": 100
  },
  "learningObjectives": [
    "Understand what functions are and why they're useful",
    "Define functions with func keyword",
    "Use parameters to make functions flexible",
    "Return values from functions",
    "Call functions with different arguments",
    "Organize game code with functions"
  ],
  "commonMistakes": [
    {
      "mistake": "Forgetting parentheses when calling",
      "explanation": "To call a function, you MUST use parentheses: greet() not greet"
    },
    {
      "mistake": "Not returning values",
      "explanation": "If a function calculates something, use 'return value' to send it back."
    },
    {
      "mistake": "Wrong number of arguments",
      "explanation": "If a function has 2 parameters, you must pass 2 arguments when calling it."
    }
  ],
  "previousLessonId": 104,
  "nextLessonId": 106,
  "tags": ["beginner", "functions", "func", "parameters", "return", "code-organization", "godot"]
}
